# Jmeter性能测试
技术要点
1. 定时器
2. 分布式
3. 测试报告
4. 性能测试图表
## Jmeter定时器
* 同步定时器
* 常数吞吐量定时器
### 同步定时器
  * 为什么要用同步定时器?
    * 如何模拟1w人同时使用电商网站
    * 如何模拟1w人同时在电商网站中的抢购/秒杀活动
    * 如何模拟1000人同时抢红包

* **定义**：阻塞线程（累积一定的请求），当在规定的时间内达到一定的线程数量，这些线程会
在同一个时间点一起释放，瞬间产生很大的压力。
* **提示**：在JMeter中叫做**同步定时器**，在LoadRunner中又叫集合点
* 位置:测试计划 --> 线程组--> HTTP请求 --> (右键添加) 定时器 --> Synchronizing Timer
* 参数介绍:
  - Number of Simulated Users to Group by：模拟用户的数量，即指定同时释放的线程数数量。
    - 若设置为0，等于设置为线程组中的线程数量
  - Timeout in milliseconds：超时时间，即超时多少毫秒后同时释放指定的线程数；
    - 如果设置为0，该定时器将会等待线程数达到了设置的线程数才释放，若没有达到设置的线程数会一直死等。
    - 如果大于0，那么如果超过Timeout in milliseconds中设置的最大等待时间后还没达到设置的线程数,释放已到达的线程,Timer将不再等待。默认为0
1. 什么时候需要使用同步定时器？
   * 测试抢购、秒杀或者抢红包等**高并发**的场景时使用
2. 使用同步定时器的操作步骤？
   1. 添加线程组，设置线程数为n
   2. 添加HTTP请求
   3. 添加同步定时器
      * 设置并发线程数：同时发送请求的虚拟用户数
      * 设置超时时间：
        * 建议设置：不设置的话，若没有达到设置的线程数会一直死等
        * 不能设置太小：等待时间后还没达到设置的线程数，会释放已到达的线程
   4. 添加查看结果树
   5. 添加监听器-聚合报告
### 常数吞吐量定时器
* 为什么要使用常数吞吐量定时器?
  * 稳定性测试中要求模拟用户真实的业务场景
  * 如果用户真实业务场景的QPS为20,如何精确模拟?
* 作用：让JMeter按指定的吞吐量执行，以每分钟为单位。
* 位置：测试计划 --> 线程组--> HTTP请求 --> (右键添加) 定时器 --> Constant Throughput Timer
1. 什么时候需要使用常数吞吐量定时器？
   * 需要按指定的吞吐量发送请求时，可以使用常数吞吐量定时器
2. 使用常数吞吐量定时器的操作步骤？
   1. 添加线程组，循环次数设置成永远
   2. 添加HTTP请求
   3. 添加常数吞吐定时器
      * 设置目标吞吐量：每个用户每分钟发送的请求数
      * 计算方法：要求QPS * 60 / 线程数
   4. 添加查看结果树
   5. 添加监听器-聚合报告